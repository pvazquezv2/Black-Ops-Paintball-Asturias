<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
<meta charset="UTF-8" />
<title>Listado de Reservas por Escenario | Black Ops Paintball
	Asturias</title>
<link rel="icon" type="image/png" th:href="@{/img/logo.png}" />
<link rel="stylesheet" th:href="@{/css/bootstrap.min.css}" />
<link rel="stylesheet" th:href="@{/css/styles.css}" />
</head>
<body>

	<nav class="navbar navbar-expand-lg navbar-dark fixed-top">
		<div class="container">
			<a class="navbar-brand d-flex align-items-center" th:href="@{/admin}">
				<img th:src="@{/img/logo.png}" alt="Logo Black Ops"
				title="Panel Admin"/> <span class="ms-2">ADMINISTRACIÓN</span>
			</a>
			<div class="collapse navbar-collapse">
				<ul class="navbar-nav ms-auto">
					<li class="nav-item"><a class="nav-link btn btn-outline-light"
						th:href="@{/logout}">Cerrar sesión</a></li>
				</ul>
			</div>
		</div>
	</nav>

	<main class="container admin-menu">
		<h1 class="text-center mb-4">Listado de Reservas por Escenario</h1>
		<form th:action="@{/admin/listado_reservas_escenarios}" method="get"
			class="mb-5">
			<div class="row justify-content-center">
				<div class="col-md-6">
					<select class="form-select" name="escenarioId" required>
						<option value="">Selecciona un escenario</option>
						<option th:each="esc : ${escenarios}" th:value="${esc.id}"
							th:text="${esc.nombre}"
							th:selected="${esc.id == escenarioSeleccionadoId}"></option>
					</select>
				</div>
				<div class="col-md-2">
					<button type="submit" class="btn btn-dark w-100">Filtrar</button>
				</div>
			</div>
		</form>
		<section class="container mb-5">
			<div class="table-responsive">
				<table class="table table-striped">
					<thead class="table-dark">
						<tr>
							<th>ID</th>
							<th>Fecha realizada</th>
							<th>Fecha reserva</th>
							<th>Usuario</th>
							<th>Número personas</th>
							<th>Pack</th>
							<th>Modo juego</th>
							<th>Escenario</th>
							<th>Info adicional</th>
							<th>Estado</th>
						</tr>
					</thead>
					<tbody>
						<tr th:each="reserva : ${reservas}">
							<td th:text="${reserva.id}">1</td>
							<td
								th:text="${#temporals.format(reserva.fechaRealizada, 'dd-MM-yyyy')}">2025-05-28</td>
							<td
							th:text="${#temporals.format(reserva.fechaReserva, 'dd-MM-yyyy HH:mm')}"></td>
							<td th:text="${reserva.persona.nombreUsuario}">usuario</td>
							<td th:text="${reserva.numeroPersonas}">4</td>
							<td th:text="${reserva.pack}">Pack básico</td>
							<td th:text="${reserva.modoJuego}">Competitivo</td>
							<td th:text="${reserva.escenario.nombre}">Escenario 1</td>
							<td th:text="${reserva.infoAdicional}">Sin gluten</td>
							<td th:text="${reserva.estado}">CONFIRMADO</td>
						</tr>
					</tbody>
				</table>
			</div>
		</section>
		<div class="row">
			<div class="col-12">
				<a th:href="@{/admin/listado_reservas}"
					class="btn btn-dark w-100 p-4 shadow card-transparente"> Volver al
					menú de listado de reservas </a>
			</div>
		</div>
	</main>

	<footer class="mt-5 text-center">
		<p>&copy; 2025 Black Ops Paintball Asturias | Panel de Administración</p>
	</footer>

	<script th:src="@{/js/bootstrap.bundle.min.js}"></script>
</body>
</html>
